# Describes the lxc based vcd, pump this into an llm to provide context.
# mes
# 19jul25


=== LXC Health Check ===

Date: Tue Jul 22 00:09:41 CEST 2025

=== Service Status ===
active
active

=== Network Status ===
Bridge IP: OK

=== IP Forwarding ===
1

=== NAT Rules ===
NAT: OK

=== Container Status ===
NAME              STATE   AUTOSTART GROUPS IPV4      IPV6                                    UNPRIVILEGED 
k0rdent-mgmt      RUNNING 1         -      10.0.3.10 fc42:5009:ba4b:5ab0:8863:75ff:fe13:b8c  false        
k0s-child-master  RUNNING 1         -      10.0.3.20 fc42:5009:ba4b:5ab0:e47b:26ff:fe10:94b9 false        
k0s-child-worker1 RUNNING 1         -      10.0.3.21 fc42:5009:ba4b:5ab0:8c77:cff:feda:82a1  false        
k0s-child-worker2 RUNNING 1         -      10.0.3.22 fc42:5009:ba4b:5ab0:187e:3eff:fe2d:a33a false        

=== Connectivity Test ===
10.0.3.10: OK
10.0.3.20: OK
10.0.3.21: OK
10.0.3.22: OK

=== Internet Access Test ===
Internet: OK
martin@muc:~/vcd$ sudo lxc-info -n k0rdent-mgmt
Name:           k0rdent-mgmt
State:          RUNNING
PID:            324506
IP:             10.0.3.10
IP:             fc42:5009:ba4b:5ab0:8863:75ff:fe13:b8c
Link:           vethKk338g
 TX bytes:      7.74 KiB
 RX bytes:      18.49 KiB
 Total bytes:   26.24 KiB
martin@muc:~/vcd$ sudo lxc-info -n k0rdent-mgmt -s -H -p -i
State:          RUNNING
PID:            324506
IP:             10.0.3.10
IP:             fc42:5009:ba4b:5ab0:8863:75ff:fe13:b8c
martin@muc:~/vcd$ sudo cat /var/lib/lxc/k0rdent-mgmt/config
# Template used to create this container: /usr/share/lxc/templates/lxc-download
# Parameters passed to the template: -d debian -r trixie -a arm64
# For additional config options, please look at lxc.container.conf(5)

# Uncomment the following line to support nesting containers:
#lxc.include = /usr/share/lxc/config/nesting.conf
# (Be aware this has security implications)


# Distribution configuration
lxc.include = /usr/share/lxc/config/common.conf
lxc.arch = linux64

# Container specific configuration
lxc.apparmor.profile = generated
lxc.apparmor.allow_nesting = 1
lxc.rootfs.path = dir:/var/lib/lxc/k0rdent-mgmt/rootfs
lxc.uts.name = k0rdent-mgmt

# Network configuration
lxc.net.0.type = veth
lxc.net.0.link = lxcbr0
lxc.net.0.flags = up
# Kubernetes requirements
lxc.apparmor.profile = unconfined
lxc.cap.drop =
lxc.mount.auto = proc:rw sys:rw cgroup:rw

# DNS
# Kubernetes requirements
lxc.apparmor.profile = unconfined
lxc.cap.drop =
lxc.mount.auto = proc:rw sys:rw cgroup:rw

# Static IP

# DNS
lxc.start.auto = 1
lxc.start.delay = 5

# Kubernetes kernel requirements
lxc.sysctl.net.bridge.bridge-nf-call-iptables = 1
lxc.sysctl.net.ipv4.ip_forward = 1
lxc.sysctl.net.bridge.bridge-nf-call-ip6tables = 1
lxc.sysctl.fs.inotify.max_user_instances = 524288
lxc.sysctl.fs.inotify.max_user_watches = 524288

# Resource limits
lxc.cgroup2.memory.max = 4G
lxc.cgroup2.cpu.max = 200000 1000000
# This gives each container up to 2 CPUs (200000/1000000 = 20% Ã— 10 cores = 2 cores)
martin@muc:~/vcd$ sudo lxc-cgroup -n k0rdent-mgmt memory.current
sudo lxc-cgroup -n k0rdent-mgmt cpu.stat
38178816

usage_usec 6330435
user_usec 2482700
system_usec 3847734
nr_periods 120
nr_throttled 30
throttled_usec 128394131
nr_bursts 0
burst_usec 0

martin@muc:~/vcd$ sudo lxc-ls --fancy-format name,state,pid,ram,swap,autostart,groups,interface,ipv4,ipv6
k0rdent-mgmt      k0s-child-master  k0s-child-worker1 k0s-child-worker2 
